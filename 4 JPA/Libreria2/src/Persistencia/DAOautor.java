package Persistencia;

import Entidades.Autor;
import java.util.ArrayList;
import java.util.List;

public class DAOautor extends DAO<Autor>{
    
    public DAOautor() {
    }
    
    public void guardarAutor(Autor autor) {
        super.crear(autor);
    }
    
    public void editarAutor(Autor autor){
        super.editar(autor);
    }
    
    public void darDeBajaAutor(Autor autor) {
            super.editar(autor);
    }
    
    public void eliminarAutor(Autor autor){
        super.eliminar(autor);
    }
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    public List buscarAutor(String nombre){
        List<Autor> listaDeAutores = new ArrayList<>();
        try {
            super.conectarBD();
            listaDeAutores = em.createQuery("SELECT a FROM Autor a WHERE a.nombre LIKE :nombre AND a.alta = 1",Autor.class)
                .setParameter("nombre","%"+nombre+"%")
                .getResultList();
        }catch (Exception e) {
                System.out.println(e);
        }finally{
            super.desconectarBD();
        }
      return  listaDeAutores;
    }
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}
